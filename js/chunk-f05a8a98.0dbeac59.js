(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f05a8a98"],{"6ab5":function(t,a,s){"use strict";s.d(a,"a",(function(){return i})),s.d(a,"b",(function(){return n}));var o=s("b775");function i(t){return Object(o["a"])({url:"/booklists",method:"get",params:t})}function n(t){return Object(o["a"])({url:"/booklists/".concat(t),method:"get"})}},"72f5":function(t,a,s){t.exports=s.p+"img/female.56139891.png"},"7db0":function(t,a,s){"use strict";var o=s("23e7"),i=s("b727").find,n=s("44d2"),e="find",c=!0;e in[]&&Array(1)[e]((function(){c=!1})),o({target:"Array",proto:!0,forced:c},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(e)},"8b51":function(t,a,s){"use strict";s.r(a);var o=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"booklists-detail"},[s("div",{staticClass:"detail-head"},[s("h1",[t._v(t._s(t.data.title))]),s("ul",t._l(t.tagsArr,(function(a){return s("li",{key:a.className,class:a.className},[t._v(" "+t._s(a.tag)+" ")])})),0),s("p",{class:{textOverflow4:!t.down}},[t._v(t._s(t.data.desc)),s("van-icon",{directives:[{name:"show",rawName:"v-show",value:!t.down,expression:"!down"}],staticClass:"down",attrs:{name:"arrow-down"},on:{click:t.clickDown}})],1),s("div",{staticClass:"author"},[s("div",[s("img",{attrs:{src:t.isMale(t.data.gender)}})]),s("div",{staticClass:"author-msg"},[s("span",{staticClass:"nickname"},[t._v(t._s(t.author.nickname))]),s("span",{staticClass:"type"},[t._v(t._s(t.author.type))]),s("span",{staticClass:"lv"},[t._v("LV."+t._s(t.author.lv))]),s("p",[t._v("创建于"+t._s(t.data.created))])])])]),s("div",{staticClass:"detail-list"},[s("ul",{staticClass:"clearfix"},[s("li",{staticClass:"active"},[t._v("全部("+t._s(t.data.total)+")")])]),s("van-list",{staticClass:"book-list",attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}},t._l(t.books,(function(a,o){return s("div",{key:o,staticClass:"book-list-item",on:{click:function(s){return t.toBookInfo(a.book._id)}}},[s("div",{staticClass:"top"},[s("div",[s("img",{attrs:{src:t._f("fixImg")(a.book.cover)}})]),s("div",{staticClass:"book-info"},[s("div",[s("h2",[t._v(t._s(a.book.title))])]),s("div",{staticClass:"book-author"},[s("span",[s("van-icon",{attrs:{name:"manager"}}),t._v(" "+t._s(a.book.author))],1)]),s("div",{staticClass:"word"},[s("span",[t._v(t._s(a.book.majorCate))]),s("span",[t._v(t._s((a.book.wordCount/1e4).toFixed(1))+"万字")])])])]),s("div",{staticClass:"bottom"},[t._v(" "+t._s(a.comment)+" ")])])})),0)],1),s("div",{staticClass:"detail-bottom"},[s("div",{staticClass:"share",on:{click:t.shareBookList}},[s("van-icon",{staticClass:"icon",attrs:{name:"share"}}),t._v(" 分享书单 ")],1),s("div",{on:{click:t.collectBookList}},[s("van-icon",{staticClass:"icon",attrs:{name:t.isCollect?"like":"like-o"}}),t._v(" "+t._s(t.isCollect?t.data.collectorCount+1:t.data.collectorCount)+"收藏 ")],1)]),s("van-action-sheet",{staticClass:"vansheet",attrs:{round:!1},model:{value:t.show,callback:function(a){t.show=a},expression:"show"}},[s("ul",t._l(t.shareList,(function(a){return s("li",{key:a.iconName},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-"+a.iconName}})]),s("p",[t._v(t._s(a.title))])])})),0)])],1)},i=[],n=(s("7db0"),s("6ab5")),e=s("b158"),c=s.n(e),l=s("72f5"),r=s.n(l),d={name:"BooklistsDetail",data:function(){return{data:"",tags:[],author:"",avatarMale:c.a,avatarFemale:r.a,down:!1,books:[],loading:!1,finished:!1,isCollect:!1,show:!1,shareList:[{title:"QQ",iconName:"QQ"},{title:"QQ空间",iconName:"QQkongjian"},{title:"微信好友",iconName:"wx"},{title:"朋友圈",iconName:"pengyouquan"}]}},computed:{tagsArr:function(){var t=[];return this.tags.find((function(t){return"MIND_BOOKSTORE"==t}))&&t.push({tag:"走心粮草库",className:"bookstore"}),this.tags.find((function(t){return"COLLECT_COUNT_X000+"==t}))&&t.push({tag:"收藏1000+",className:"collect1000"}),this.tags.find((function(t){return"EDITOR_RECOMMEND"==t}))&&t.push({tag:"编辑推荐",className:"recommend"}),this.tags.find((function(t){return"AUTHENTIC_LISTOWNER"==t}))&&t.push({tag:"认证单主",className:"authentic"}),t}},methods:{isMale:function(t){return"male"===t?c.a:"female"===t?r.a:void 0},clickDown:function(){this.down=!0},onLoad:function(){var t=this;setTimeout((function(){Object(n["b"])(t.$route.params.id).then((function(a){t.data=a.data.bookList,t.tags=a.data.bookList.tags,t.author=a.data.bookList.author;for(var s=a.data.bookList.books,o=0;o<10;o++)t.books.push(s[o]);t.loading=!1,t.books.length>=s.length&&(t.finished=!0)}))}),500)},toBookInfo:function(t){this.$router.push({name:"BookInfo",params:{id:t}})},collectBookList:function(){!1===this.isCollect?this.isCollect=!0:this.isCollect=!1},shareBookList:function(){this.show=!0}}},u=d,f=(s("af53"),s("2877")),h=Object(f["a"])(u,o,i,!1,null,"3a1d39cd",null);a["default"]=h.exports},af53:function(t,a,s){"use strict";var o=s("de4d"),i=s.n(o);i.a},b158:function(t,a,s){t.exports=s.p+"img/male.648d414e.png"},de4d:function(t,a,s){}}]);
//# sourceMappingURL=chunk-f05a8a98.0dbeac59.js.map