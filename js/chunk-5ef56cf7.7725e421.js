(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ef56cf7"],{"65b8":function(t,e,n){},a6ce:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"searching"},[n("form",{attrs:{action:"/"}},[n("van-search",{attrs:{placeholder:"请输入搜索内容"},on:{search:t.onSearch},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),n("div",{staticClass:"hotBooks"},[n("div",{staticClass:"change"},[n("span",{staticClass:"title"},[t._v("热门推荐")]),n("span",{staticClass:"title-icon",on:{click:t.changeBooks}},[t._v("换一批 "),n("van-icon",{attrs:{name:"replay"}})],1)]),n("ul",{staticClass:"list clearfix"},t._l(t.newBookArray,(function(e){return n("li",{key:e.book,on:{click:function(n){return t.toSearch(e.word)}}},[t._v(" "+t._s(e.word)+" ")])})),0)]),n("div",{staticClass:"history"},[n("div",{staticClass:"search-histoty"},[n("span",{staticClass:"title"},[t._v("搜索历史")]),n("span",{staticClass:"title-icon",on:{click:t.delAllHistory}},[t._v("删除历史 "),n("van-icon",{attrs:{name:"delete"}})],1)]),n("ul",{staticClass:"list"},t._l(this.$store.state.searchHistory,(function(e){return n("li",{key:e,on:{click:function(n){return t.toSearch(e)}}},[t._v(" "+t._s(e)+" ")])})),0)])])},o=[],s=(n("a4d3"),n("4de4"),n("4160"),n("fb6a"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("2fa7")),a=n("f399"),c=n("2f62");function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(n,!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l={name:"Searching",data:function(){return{value:"",newHotWords:[]}},computed:{newBookArray:function(){return this.getRandomArrayElements(this.newHotWords,6)}},created:function(){this.getHotBooks()},methods:u({},Object(c["b"])(["ADD_SEARCHHISTORY","DEL_ALLSEARCHHISTORY"]),{onSearch:function(){this.$router.push({path:"/searchResult",query:{keyword:"".concat(this.value)}}),this.ADD_SEARCHHISTORY(this.value)},toSearch:function(t){this.$router.push({path:"/searchResult",query:{keyword:t}}),this.ADD_SEARCHHISTORY(t)},delAllHistory:function(){this.DEL_ALLSEARCHHISTORY()},getHotBooks:function(){var t=this;Object(a["a"])().then((function(e){t.newHotWords=e.data.newHotWords}))},getRandomArrayElements:function(t,e){var n,r,o=t.slice(0),s=t.length,a=s-e;while(s-- >a)r=Math.floor((s+1)*Math.random()),n=o[r],o[r]=o[s],o[s]=n;return o.slice(a)},changeBooks:function(){this.getHotBooks()}})},h=l,f=(n("e7e1"),n("2877")),d=Object(f["a"])(h,r,o,!1,null,"6280459a",null);e["default"]=d.exports},e7e1:function(t,e,n){"use strict";var r=n("65b8"),o=n.n(r);o.a},f399:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s}));var r=n("b775");function o(){return Object(r["a"])({url:"/hot-books",method:"get"})}function s(t){return Object(r["a"])({url:"/search",method:"get",params:{keyword:t}})}}}]);
//# sourceMappingURL=chunk-5ef56cf7.7725e421.js.map