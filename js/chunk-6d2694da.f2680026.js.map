{"version":3,"sources":["webpack:///./src/api/booklists.js","webpack:///./src/views/booklists/index.vue?7f20","webpack:///./src/views/booklists/components/Lists.vue?aa63","webpack:///src/views/booklists/components/Lists.vue","webpack:///./src/views/booklists/components/Lists.vue?786c","webpack:///./src/views/booklists/components/Lists.vue","webpack:///src/views/booklists/index.vue","webpack:///./src/views/booklists/index.vue?b375","webpack:///./src/views/booklists/index.vue","webpack:///./src/views/booklists/components/Lists.vue?c94a"],"names":["fetchBookLists","query","request","url","method","params","fetchBookListsDetail","id","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","value","callback","$$v","active","expression","_l","item","key","label","queryList","staticRenderFns","finished","on","onLoad","loading","index","$event","toDetail","_id","_v","_s","title","desc","bookCount","collectorCount","_f","covers","component"],"mappings":"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","file":"js/chunk-6d2694da.f2680026.js","sourcesContent":["import request from '@/utils/request'\r\n\r\n// 获取书单\r\nexport function fetchBookLists(query) {\r\n    return request({\r\n      url: '/booklists',\r\n      method: 'get',\r\n      params: query \r\n    })\r\n}\r\n\r\n// 获取书单详情\r\nexport function fetchBookListsDetail(id) {\r\n    return request({\r\n      url: `/booklists/${id}`,\r\n      method: 'get'\r\n    })\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"booklists\"},[_c('van-tabs',{attrs:{\"sticky\":\"\"},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},_vm._l((_vm.tabMapOptions),function(item){return _c('van-tab',{key:item.key,attrs:{\"title\":item.label,\"name\":item.key}},[_c('keep-alive',[_c('lists',{attrs:{\"queryList\":item.queryList}})],1)],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('van-list',{staticClass:\"book-list\",attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(item,index){return _c('div',{key:index,staticClass:\"book-list-item\",on:{\"click\":function($event){return _vm.toDetail(item._id)}}},[_c('div',{staticClass:\"left-content\"},[_c('h2',{staticClass:\"textOverflow1\"},[_vm._v(_vm._s(item.title))]),_c('p',{staticClass:\"textOverflow2\"},[_vm._v(_vm._s(item.desc))]),_c('div',[_vm._v(_vm._s(item.bookCount)+\"本\"),_c('span',[_vm._v(\"|\")]),_vm._v(_vm._s(item.collectorCount)+\"收藏\")])]),_c('div',{staticClass:\"right-img\"},[_c('img',{staticClass:\"pic pic1\",attrs:{\"src\":_vm._f(\"fixImg\")(item.covers[0])}}),_c('img',{staticClass:\"pic pic2\",attrs:{\"src\":_vm._f(\"fixImg\")(item.covers[1])}}),_c('img',{staticClass:\"pic pic3\",attrs:{\"src\":_vm._f(\"fixImg\")(item.covers[2])}})])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <van-list\r\n        v-model=\"loading\"\r\n        :finished=\"finished\"\r\n        finished-text=\"没有更多了\"\r\n        @load=\"onLoad\"\r\n        class=\"book-list\"\r\n    >\r\n        <div\r\n            v-for=\"(item, index) in list\"\r\n            :key=\"index\"\r\n            class=\"book-list-item\"\r\n            @click=\"toDetail(item._id)\"\r\n        >\r\n            <div class=\"left-content\">\r\n                <h2 class=\"textOverflow1\">{{item.title}}</h2>\r\n                <p class=\"textOverflow2\">{{item.desc}}</p>\r\n                <div>{{item.bookCount}}本<span>|</span>{{item.collectorCount}}收藏</div>\r\n            </div>\r\n            <div class=\"right-img\">\r\n                <img class=\"pic pic1\" :src=\"item.covers[0] | fixImg\" /> \r\n                <img class=\"pic pic2\" :src=\"item.covers[1] | fixImg\" />\r\n                <img class=\"pic pic3\" :src=\"item.covers[2] | fixImg\" />\r\n            </div>\r\n        </div>\r\n    </van-list>\r\n</template>\r\n\r\n<script>\r\nimport { fetchBookLists } from '@/api/booklists'\r\n\r\nexport default {\r\n    name: 'Lists',\r\n    data() {\r\n        return {\r\n            list: [],\r\n            loading: false,\r\n            finished: false\r\n        }\r\n    },\r\n    props: {\r\n        queryList: {\r\n            type: Object,\r\n            default: function() {\r\n                return {\r\n                    sort: 'collectorCount',\r\n                    duration: 'last-seven-days', \r\n                    start: 0\r\n                }\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        onLoad() {\r\n            // 异步更新数据\r\n            setTimeout(() => {\r\n                fetchBookLists(this.queryList).then(res => {\r\n                    let temp = res.data.bookLists\r\n                    for (let i = 0; i < 20; i++) {\r\n                        this.list.push(temp[i]);\r\n                    }\r\n                    // 加载状态结束\r\n                    this.loading = false;\r\n                    // 数据全部加载完成\r\n                    if (this.list.length >= res.data.total) {\r\n                        this.finished = true;\r\n                    }\r\n                })\r\n            }, 500)\r\n        },\r\n        toDetail(id) {\r\n            this.$router.push({name: 'BooklistsDetail', params: {id: id}})\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.book-list {\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n    padding-bottom: 50px;\r\n    .book-list-item {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        border-bottom: 1px solid #ebebf0;\r\n        padding: 10px 0;\r\n        .left-content {\r\n            width: 200px;\r\n            h2 {\r\n                margin-top: 3px;\r\n                padding-bottom: 10px\r\n            }\r\n            p {\r\n                line-height: 18px;\r\n                color: #999;\r\n            }\r\n            div {\r\n                color: #ddd;\r\n                padding-top: 10px;\r\n                span {\r\n                    padding: 0 5px;\r\n                }\r\n            }\r\n        }\r\n        .right-img {\r\n            position: relative;\r\n            width: 114px;\r\n            height: 72px;\r\n            .pic {\r\n                border-radius: 3px;\r\n                box-shadow: 0 2px 2px #ccc;\r\n            }\r\n            .pic1 {\r\n                width: 45px;\r\n                height: 60px;\r\n                position: absolute;\r\n                top: 6px;\r\n                \r\n            }\r\n            .pic2 {\r\n                width: 54px;\r\n                height: 72px;\r\n                position: absolute;\r\n                z-index: 2;\r\n                left: 30px;\r\n            }\r\n            .pic3 {\r\n                width: 45px;\r\n                height: 60px;\r\n                position: absolute;\r\n                top: 6px;\r\n                right: 0;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lists.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lists.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Lists.vue?vue&type=template&id=f074de24&scoped=true&\"\nimport script from \"./Lists.vue?vue&type=script&lang=js&\"\nexport * from \"./Lists.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Lists.vue?vue&type=style&index=0&id=f074de24&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f074de24\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"booklists\">\r\n        <van-tabs v-model=\"active\" sticky>\r\n            <van-tab v-for=\"item in tabMapOptions\" :key=\"item.key\" :title=\"item.label\" :name=\"item.key\">\r\n                <keep-alive>\r\n                    <lists :queryList=\"item.queryList\" />\r\n                </keep-alive>\r\n            </van-tab>\r\n        </van-tabs>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Lists from './components/Lists'\r\n\r\nexport default {\r\n    name: 'Booklists',\r\n    data() {\r\n        return {\r\n            tabMapOptions: [\r\n                { label: '本周最热', key: 'weekHot', queryList: { sort: 'collectorCount', duration: 'last-seven-days', start: 0 } },\r\n                { label: '最新发布', key: 'new', queryList: { sort: 'created', duration: 'all' } },\r\n                { label: '最多收藏', key: 'hot', queryList: { sort: 'collectorCount', duration: 'all' } },\r\n                { label: '男频', key: 'male', queryList: { gender: 'male' } },\r\n                { label: '女频', key: 'female', queryList: { gender: 'female' } }\r\n            ],\r\n            active: 'weekHot',\r\n            \r\n        }\r\n    },\r\n    components: {\r\n        Lists\r\n    },\r\n    created () {\r\n        \r\n    },\r\n    methods: {\r\n        \r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=50e60727&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"50e60727\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lists.vue?vue&type=style&index=0&id=f074de24&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lists.vue?vue&type=style&index=0&id=f074de24&lang=scss&scoped=true&\""],"sourceRoot":""}